function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{czQr:function(t,n,e){"use strict";e.r(n),e.d(n,"AccountModule",(function(){return d}));var o,i,r,a=e("ofXK"),c=e("3Pt+"),s=e("tyNb"),u=e("fXoL"),l=e("ej43"),f=[{path:"",component:(o=function(){function t(n,e){_classCallCheck(this,t),this._fb=n,this._authenticationService=e,this.submitted=!1,this.formUpdated=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.intialiseFormState(),this.getAccountDetails()}},{key:"intialiseFormState",value:function(){this.accountForm=this._fb.group({username:["",c.n.required],email:["",[c.n.required,c.n.email]],password:["",[c.n.required,c.n.minLength(6)]]})}},{key:"getAccountDetails",value:function(){var t=this;this._authenticationService.getUser$().subscribe((function(n){t.username=n[0].name,t.email=n[0].email,t.updateFormGroup()}))}},{key:"updateFormGroup",value:function(){this.f.username.setValue(this.username),this.f.email.setValue(this.email)}},{key:"saveAccount",value:function(){this.f.username.valid&&this.f.email.valid&&this._authenticationService.updateAccount$({username:this.f.username.value,email:this.f.email.value}).subscribe()}},{key:"savePassword",value:function(){var t=this;this.f.password.valid&&this._authenticationService.updatePassword$(this.f.password.value).subscribe((function(n){t.f.password.patchValue("")}))}},{key:"deleteAccount",value:function(){var t=this;this._authenticationService.deleteAccount().subscribe((function(n){200==n.status&&(t._authenticationService.logout(),alert("account deleted"))}))}},{key:"f",get:function(){return this.accountForm.controls}}]),t}(),o.\u0275fac=function(t){return new(t||o)(u.Pb(c.b),u.Pb(l.a))},o.\u0275cmp=u.Jb({type:o,selectors:[["app-account-page"]],decls:30,vars:1,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-md-4","ml-auto"],[1,"card","form"],[1,"card-body"],[1,"form-register",3,"formGroup"],["for","inputEmail"],["formControlName","username","type","text","id","inputEmail","required","","autofocus","",1,"form-control"],["formControlName","email","type","email","id","inputEmail","required","",1,"form-control"],["placeholder","Enter new password","formControlName","password","type","password","id","inputEmail","required","",1,"form-control"],[1,"btnContainer"],["type","button",1,"btn","btn-primary","go",3,"click"],["type","button",1,"btn","btn-primary","delete",3,"click"],[1,"col-md-4","mr-auto","promoContainer"],[1,"card","promo"],[1,"title"],["src","../../../assets/images/settings.svg",1,"image"]],template:function(t,n){1&t&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"div",2),u.Sb(3,"div",3),u.Sb(4,"div",4),u.Sb(5,"form",5),u.Sb(6,"label",6),u.zc(7,"username"),u.Rb(),u.Qb(8,"input",7),u.Sb(9,"label",6),u.zc(10,"email"),u.Rb(),u.Qb(11,"input",8),u.Sb(12,"label",6),u.zc(13,"password"),u.Rb(),u.Qb(14,"input",9),u.Rb(),u.Sb(15,"div",10),u.Sb(16,"button",11),u.ac("click",(function(){return n.saveAccount()})),u.zc(17," Update Account "),u.Rb(),u.Sb(18,"button",11),u.ac("click",(function(){return n.savePassword()})),u.zc(19," Reset password "),u.Rb(),u.Sb(20,"button",12),u.ac("click",(function(){return n.deleteAccount()})),u.zc(21," delete account "),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(22,"div",13),u.Sb(23,"div",14),u.Sb(24,"div",4),u.Sb(25,"h1",15),u.zc(26,"account"),u.Rb(),u.Qb(27,"img",16),u.Sb(28,"h1",15),u.zc(29,"settings"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.Ab(5),u.hc("formGroup",n.accountForm))},directives:[c.o,c.i,c.d,c.a,c.h,c.c,c.m],styles:[".title[_ngcontent-%COMP%]{font-family:titleFont;font-size:80px;text-align:center;color:#fff;padding:2%;margin-top:10%}.row[_ngcontent-%COMP%]{margin-top:300px!important}.col-md-4[_ngcontent-%COMP%]{margin:0;padding:0}.info[_ngcontent-%COMP%]{font-size:35px;text-align:center;color:#fff;line-height:1em;padding-top:12vh}.container[_ngcontent-%COMP%]   .promo[_ngcontent-%COMP%]{height:600px!important;max-height:600px;background-color:#fc5185!important}.container[_ngcontent-%COMP%]   .promo[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:60%;display:block;margin:25% auto}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{height:600px!important;background-color:#f0f0f0}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-radius:30px;color:#fc5185;width:80%!important;margin:5% auto}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:titleFont;font-size:150%;color:#364f6b;margin-left:10%}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-register[_ngcontent-%COMP%]{margin-top:22%;margin-bottom:22%}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]{margin:0 auto;text-align:center;font-family:titleFont}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]   .go[_ngcontent-%COMP%]{width:55%;font-size:150%;background-color:#fff;border-radius:30px;color:#364f6b;padding:0 5%;display:block;margin:5% auto;border:1px solid #364f6b}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{margin:5% auto;display:block;width:55%;font-size:150%;background-color:red;border-radius:30px;color:#fff;padding:0 5%;border:1px solid #fff}@media screen and (max-width:400px){.promo[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-top:100px!important}}"]}),o),canActivate:[e("9VND").a]}],m=((r=function t(){_classCallCheck(this,t)}).\u0275mod=u.Nb({type:r}),r.\u0275inj=u.Mb({factory:function(t){return new(t||r)},imports:[[s.c.forChild(f)],s.c]}),r),d=((i=function t(){_classCallCheck(this,t)}).\u0275mod=u.Nb({type:i}),i.\u0275inj=u.Mb({factory:function(t){return new(t||i)},imports:[[a.b,m,c.l,c.e]]}),i)}}]);